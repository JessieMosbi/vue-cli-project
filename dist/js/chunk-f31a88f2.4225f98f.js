(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f31a88f2"],{5651:function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),a={class:"table mt-4"},r=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{width:"120"},"購買時間"),Object(o["createVNode"])("th",{width:"120"},"姓名"),Object(o["createVNode"])("th",{width:"120"},"Email"),Object(o["createVNode"])("th",{width:"120"},"應付金額"),Object(o["createVNode"])("th",{width:"100"},"是否付款"),Object(o["createVNode"])("th",{width:"120"},"編輯")])],-1),l={key:0,class:"text-success"},d={key:1},n={class:"btn-group"};function s(e,t,c,s,i,b){var u=Object(o["resolveComponent"])("order-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("table",a,[r,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(i.orders,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id},[Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.create_at),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.user.name),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.user.email),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.total),1),Object(o["createVNode"])("td",null,[e.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("span",l,"已付款")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",d,"未付款"))]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return b.openModal("check",e.id)}}," 查看 ",8,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return b.openModal("delete",e.id)}}," 刪除 ",8,["onClick"])])])])})),128))])]),Object(o["createVNode"])(u,{"temp-order":i.tempOrder,ref:"orderModal"},null,8,["temp-order"])],64)}c("99af"),c("7db0");var i={class:"modal fade",id:"orderModal",ref:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},b={class:"modal-dialog modal-xl",role:"document"},u={class:"modal-content border-0"},O=Object(o["createVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(o["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(o["createVNode"])("span",null,"訂單細節")]),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),j={class:"modal-body"},p={class:"row"},h={class:"col-md-4"},N=Object(o["createVNode"])("h3",null,"用戶資料",-1),V={class:"table"},m=Object(o["createVNode"])("th",{style:{width:"100px"}},"姓名",-1),g=Object(o["createVNode"])("th",null,"Email",-1),f=Object(o["createVNode"])("th",null,"電話",-1),k=Object(o["createVNode"])("th",null,"地址",-1),y={class:"col-md-8"},v=Object(o["createVNode"])("h3",null,"訂單細節",-1),w={class:"table"},B=Object(o["createVNode"])("th",{style:{width:"100px"}},"訂單編號",-1),x=Object(o["createVNode"])("th",null,"下單時間",-1),D=Object(o["createVNode"])("th",null,"付款時間",-1),M={key:0},S={key:1},_=Object(o["createVNode"])("th",null,"付款狀態",-1),C={key:0,class:"text-success"},L={key:1,class:"text-muted"},$=Object(o["createVNode"])("th",null,"總金額",-1),F=Object(o["createStaticVNode"])('<h3>選購商品</h3><table class="table"><thead><tr></tr></thead><tbody><tr><th>名稱</th><td>數量 / 單位</td><td class="text-end">金額</td></tr></tbody></table><div class="d-flex justify-content-end"><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"><label class="form-check-label" for="flexCheckDefault"><span>已付款</span><span>未付款</span></label></div></div>',3),E=Object(o["createVNode"])("div",{class:"modal-footer"},[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 "),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary"},"修改付款狀態")],-1);function J(e,t,c,a,r,l){return Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",u,[O,Object(o["createVNode"])("div",j,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",h,[N,Object(o["createVNode"])("table",V,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[m,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.user.name),1)]),Object(o["createVNode"])("tr",null,[g,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.user.email),1)]),Object(o["createVNode"])("tr",null,[f,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[k,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.user.address),1)])])])]),Object(o["createVNode"])("div",y,[v,Object(o["createVNode"])("table",w,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[B,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.id),1)]),Object(o["createVNode"])("tr",null,[x,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.create_at),1)]),Object(o["createVNode"])("tr",null,[D,Object(o["createVNode"])("td",null,[e.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("span",M," 時間? ")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",S,"尚未付款"))])]),Object(o["createVNode"])("tr",null,[_,Object(o["createVNode"])("td",null,[e.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("strong",C,"已付款")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",L,"尚未付款"))])]),Object(o["createVNode"])("tr",null,[$,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(r.order.total),1)])])]),F])])]),E])])],512)}var P=c("7c2b"),A=c.n(P),q={props:["tempOrder"],data:function(){return{order:{},modal:null}},mounted:function(){this.modal=new A.a(this.$refs.orderModal,null)},watch:{tempOrder:function(){this.order=this.tempOrder,console.log("watch"),console.log(this.order)}},methods:{openModal:function(){console.log("openModal"),console.log(this.order),this.modal.show()}}};q.render=J;var z=q,G={data:function(){return{orders:[],page:{total:0,current:0,hasPre:!1,hasNext:!1},tempOrder:{},nowAction:"",isLoading:!1,loader:null}},components:{orderModal:z},mounted:function(){this.getData()},watch:{isLoading:function(e){e?this.loader=this.$loading.show({container:null}):this.loader&&this.loader.hide()}},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("jessiemosbi","/admin/orders?page=").concat(t)).then((function(t){if(console.log(t.data),!t.data.success)return alert("獲取產品列表資料失敗！"),void(e.isLoading=!1);e.orders=t.data.orders,e.page.total=t.data.pagination.total_pages,e.page.current=t.data.pagination.current_page,e.page.hasPre=t.data.pagination.has_pre,e.page.hasNext=t.data.pagination.has_next,e.isLoading=!1})).catch((function(e){return console.dir(e)}))},openModal:function(e,t){console.log(e,t),this.tempOrder=this.orders.find((function(e){return e.id===t})),"check"===e&&this.$refs.orderModal.openModal()}}};G.render=s;t["default"]=G},b0c0:function(e,t,c){var o=c("83ab"),a=c("9bf2").f,r=Function.prototype,l=r.toString,d=/^\s*function ([^ (]*)/,n="name";o&&!(n in r)&&a(r,n,{configurable:!0,get:function(){try{return l.call(this).match(d)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-f31a88f2.4225f98f.js.map