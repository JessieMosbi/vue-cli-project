(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc3f8614"],{"1dde":function(e,t,a){var c=a("d039"),n=a("b622"),r=a("2d00"),o=n("species");e.exports=function(e){return r>=51||!c((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var c=a("861d"),n=a("e8b5"),r=a("b622"),o=r("species");e.exports=function(e,t){var a;return n(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?c(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},8418:function(e,t,a){"use strict";var c=a("c04e"),n=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var o=c(t);o in e?n.f(e,o,r(0,a)):e[o]=a}},"99af":function(e,t,a){"use strict";var c=a("23e7"),n=a("d039"),r=a("e8b5"),o=a("861d"),i=a("7b0b"),s=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),g=a("2d00"),b=p("isConcatSpreadable"),h=9007199254740991,f="Maximum allowed index exceeded",j=g>=51||!n((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),O=u("concat"),v=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:r(e)},k=!j||!O;c({target:"Array",proto:!0,forced:k},{concat:function(e){var t,a,c,n,r,o=i(this),u=d(o,0),p=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?o:arguments[t],v(r)){if(n=s(r.length),p+n>h)throw TypeError(f);for(a=0;a<n;a++,p++)a in r&&l(u,p,r[a])}else{if(p>=h)throw TypeError(f);l(u,p++,r)}return u.length=p,u}})},e6dc:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"mt-4",style:{position:"relative"}},r={class:"table align-middle"},o=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",null,"圖片"),Object(c["createVNode"])("th",null,"商品名稱"),Object(c["createVNode"])("th",null,"價格"),Object(c["createVNode"])("th",null,"功能")])],-1),i={style:{width:"200px"}},s={class:"h5"},l={class:"h6"},d={class:"h5"},u={class:"btn-group btn-group-sm"},p=Object(c["createVNode"])("i",{class:"fas fa-pulse"},null,-1),g=Object(c["createTextVNode"])(" 查看更多"),b=Object(c["createVNode"])("i",{class:"fas fa-pulse"},null,-1),h=Object(c["createTextVNode"])(" 加到購物車 ");function f(e,t,a,f,j,O){var v=Object(c["resolveComponent"])("router-link"),k=Object(c["resolveComponent"])("pagination");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("table",r,[o,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(j.products,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t},[Object(c["createVNode"])("td",i,[e.imagesUrl?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,style:O.getImageStyle(e.imageUrl)},null,4)):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",s,Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createVNode"])("del",l,"原價 "+Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createVNode"])("div",d,"現在只要 "+Object(c["toDisplayString"])(e.price)+" 元",1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",u,[Object(c["createVNode"])(v,{to:{path:"/product/".concat(e.id)},class:"btn btn-outline-secondary"},{default:Object(c["withCtx"])((function(){return[p,g]})),_:2},1032,["to"]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(t){return O.addToCart({id:e.id,qty:1})}},[b,h],8,["onClick"])])])])})),128))])])]),Object(c["createVNode"])(k,{"total-pages":j.page.total,"current-page":j.page.current,"has-pre-page":j.page.hasPre,"has-next-page":j.page.hasNext,onChangePage:O.getProducts},null,8,["total-pages","current-page","has-pre-page","has-next-page","onChangePage"])],64)}a("99af");var j={"aria-label":"Page navigation example"},O={class:"pagination"},v=Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"«")],-1),k=Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"»")],-1);function N(e,t,a,n,r,o){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("nav",j,[Object(c["createVNode"])("ul",O,[a.hasPrePage?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:0,class:"page-item",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return o.clickPage(a.currentPage-1)}),["prevent"]))},[v])):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.totalPages,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",{active:a.currentPage===e}],key:e},[Object(c["createVNode"])("a",{class:"page-link",href:"javascript:;",onClick:function(t){return o.clickPage(e)}},Object(c["toDisplayString"])(e),9,["onClick"])],2)})),128)),a.hasNextPage?(Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:1,class:"page-item",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return o.clickPage(a.currentPage+1)}),["prevent"]))},[k])):Object(c["createCommentVNode"])("",!0)])])])}var V={props:["totalPages","currentPage","hasPrePage","hasNextPage"],methods:{clickPage:function(e){this.$emit("changePage",e)}}};V.render=N;var m=V,y={props:["listPage"],data:function(){return{products:[],page:{total:0,current:0,hasPre:!1,hasNext:!1},product:{},isLoading:!1,loader:null}},components:{pagination:m},mounted:function(){var e=this.listPage>1?this.listPage:1;this.getProducts(e)},watch:{isLoading:function(e){e?this.loader=this.$loading.show({container:null}):this.loader&&this.loader.hide()},"page.current":function(){this.$emit("update:list-page",this.page.current)}},methods:{getImageStyle:function(e){return{height:"100px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:'url("'.concat(e,'")')}},getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/api","/").concat("jessiemosbi","/products?page=").concat(t)).then((function(t){if(!t.data.success)return alert("獲取產品列表資料失敗！"),void(e.isLoading=!1);e.products=t.data.products,e.page.total=t.data.pagination.total_pages,e.page.current=t.data.pagination.current_page,e.page.hasPre=t.data.pagination.has_pre,e.page.hasNext=t.data.pagination.has_next,e.isLoading=!1})).catch((function(e){return console.dir(e)}))},addToCart:function(e){var t=this;this.isLoading=!0;var a={data:{product_id:e.id,qty:+e.qty}};this.$http.post("".concat("https://vue3-course-api.hexschool.io/api","/").concat("jessiemosbi","/cart"),a).then((function(e){if(!e.data.success)return alert("新增至購物車失敗！"),void(t.isLoading=!1);alert("成功新增至購物車！"),t.isLoading=!1})).catch((function(e){return console.dir(e)}))}}};y.render=f;t["default"]=y},e8b5:function(e,t,a){var c=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-fc3f8614.890c1352.js.map